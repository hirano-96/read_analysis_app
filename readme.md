# 読書管理アプリケーション

## 概要
このアプリケーションは、個人の読書活動を管理・分析するためのWebアプリケーションです。Flask（Pythonウェブフレームワーク）を使用して構築されており、読書記録の管理から読書傾向の分析まで、包括的な機能を提供します。Twitter風のUIデザインを採用し、使いやすさと視認性を重視しています。

## 主な機能

### 1. 本の管理
- 本の登録
  - タイトル
  - 著者
  - ジャンル
  - 出版社
- 本の一覧表示
- 読書記録の管理
  - 開始日
  - 終了日
  - 感想

### 2. マスターデータ管理
- 著者（Author）の管理
  - 著者の追加
  - 著者一覧の表示
- ジャンル（Genre）の管理
  - ジャンルの追加
  - ジャンル一覧の表示

### 3. 分析機能
- 読書状況の分析
  - 読了済みの本
  - 読書中の本
  - 未開始の本
- ジャンル別の本の数の集計
- 著者別の本の数の集計
- 月別の読了本数の推移

### 4. ユーザー管理
- ユーザー登録
- ログイン/ログアウト
- セッション管理

## 機能詳細仕様

### 1. 本の管理機能

#### 1.1 本の登録
- 必須項目
  - タイトル：書籍のタイトル
  - 著者：既存の著者マスタから選択
  - ジャンル：既存のジャンルマスタから選択
  - 出版社：出版社名を入力
- 登録者情報は自動的に記録
- 重複チェックは実施しない（同じ本を複数登録可能）

#### 1.2 読書記録
- 1冊の本に対して複数の読書記録が作成可能
- 記録項目
  - 開始日：読み始めた日（任意）
  - 終了日：読み終わった日（任意）
  - 感想：テキスト形式で自由記述（任意）
- 読書状態は以下の3つに分類
  - 未開始：開始日、終了日ともに未設定
  - 読書中：開始日のみ設定
  - 読了済：終了日が設定済

### 2. マスターデータ管理

#### 2.1 著者管理
- 登録項目
  - 著者名（必須、一意制約あり）
- 登録者と登録日時を自動記録
- 著者の編集・削除機能は未実装
- 一覧表示は著者名でソート

#### 2.2 ジャンル管理
- 登録項目
  - ジャンル名（必須、一意制約あり）
- 登録者と登録日時を自動記録
- ジャンルの編集・削除機能は未実装
- 一覧表示はジャンル名でソート

### 3. 分析機能

#### 3.1 読書状況グラフ
- 円グラフで表示
- 集計カテゴリ
  - 読了済み
  - 読書中
  - 未開始
- 各カテゴリの冊数と割合を表示

#### 3.2 ジャンル別統計
- 棒グラフで表示
- 各ジャンルの登録冊数を集計
- ジャンル名と冊数を表示

#### 3.3 著者別統計
- 棒グラフで表示
- 登録冊数の多い上位10著者を表示
- 著者名と冊数を表示

#### 3.4 月別読了数推移
- 折れ線グラフで表示
- 過去6ヶ月分の読了冊数を表示
- 月ごとの読了冊数を集計

### 4. ユーザー管理機能

#### 4.1 ユーザー登録
- 登録項目
  - ユーザー名（必須、一意制約あり）
  - パスワード（必須）
- パスワードはハッシュ化して保存
- 登録後は自動的にログイン画面へ遷移

#### 4.2 認証機能
- ログイン
  - ユーザー名とパスワードで認証
  - セッションベースの認証管理
- ログアウト
  - セッション情報をクリア
- 認証要求
  - 本の登録、読書記録の作成など主要機能には認証が必要
  - 未ログイン時は自動的にログイン画面へリダイレクト

### 5. UI/UXデザイン

#### 5.1 レイアウト
- ヘッダー
  - アプリケーション名
  - ユーザー名表示（ログイン時）
  - ログイン/ログアウトリンク
- サイドバー（ログイン時のみ表示）
  - 本の一覧
  - 新規本登録
  - 著者一覧
  - ジャンル一覧
  - 分析画面
- メインコンテンツ
  - 各機能の表示領域

#### 5.2 カラースキーム
Twitter風のダークテーマを採用
- 背景色：#192734
- カード背景：#253341
- アクセント：#1DA1F2（Twitter Blue）
- テキスト
  - 白：#FFFFFF
  - ライトグレー：#AAB8C2
  - グレー：#657786

## 技術スタック

### バックエンド
- Python 3.x
- Flask
- SQLite3

### フロントエンド
- HTML/CSS
- Tailwind CSS 3.x
  - Twitter風のカスタムカラースキーム
  - レスポンシブデザイン
  - ダークモード対応

## データベース構造

- user (ユーザー情報)
  - id, username, password


- genre (ジャンル)

  - id, name, created, created_by

- author (著者)
  - id, name, created, created_by

- book_info (本の情報)
  - id, title, author_id, genre_id, publisher, created, created_by

- reading_record (読書記録)
  - id, book_id, reader_id, start_date, end_date, impression, created


## セットアップ方法

1. リポジトリのクローン

```bash:readme.md
git clone https://github.com/yourusername/reading-app.git
cd reading-app
```

2. Python仮想環境の作成と有効化

```bash:readme.md
python -m venv venv
source venv/bin/activate
```

3. 依存パッケージのインストール

```bash:readme.md
pip install -e .
```

4. データベースの初期化

```bash:readme.md
flask --app flaskr init-db
```

5. アプリケーションの実行

```bash:readme.md
flask --app flaskr run --debug
```




## 開発環境のセットアップ

1. Node.js依存関係のインストール

```bash:readme.md
npm install
```

2. Tailwind CSSのビルド

```bash:readme.md
npm run build
```

## ディレクトリ構造
flaskr/

    ├── init.py # アプリケーションファクトリ

    ├── auth.py # 認証関連

    ├── books.py # 本の管理

    ├── author.py # 著者管理

    ├── genre.py # ジャンル管理

    ├── analytics.py # 分析機能

    ├── db.py # データベース操作

    ├── schema.sql # データベーススキーマ

    ├── static/ # 静的ファイル

    └── templates/ # HTMLテンプレート

        ├── auth/ # 認証関連

        ├── books/ # 本の管理

        ├── author/ # 著者管理

        ├── genre/ # ジャンル管理
        
        └── analytics/ # 分析画面
    